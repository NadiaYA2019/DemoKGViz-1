<!-- Adding CSS -->
<link rel="stylesheet" href="./css/leaflet.css" />
<link rel="stylesheet" href="./css/bootstrap.min.css" />
<link rel="stylesheet" href="./css/style.css" />





<!-- Adding necessary libraries -->
<script src="./js/d3.v5.min.js"></script>
<script src="./js/jquery-1.9.1.js"></script>
<script src="./js/leaflet.js"></script>
<script src="./js/colorbrewer.v1.min.js"></script>
<script src="./js/bootstrap.min.js"></script>
<script src="https://nadiaya2019.github.io/DemoKGViz-1/js/chart.umd.js"></script>

<!-- Setting up global variables: regions and departments -->
<script type="text/javascript" src="./js/departments.js"></script>
<script type="text/javascript" src="./js/regions.js"></script>
<script type="text/javascript" src="./js/queries.js"></script>
<script type="text/javascript" src="./js/newQueries.js"></script>
<script type="text/javascript" src="./js/charts/linechart.js"></script>
<script type="text/javascript" src="./js/charts/barplot.js"></script>
<script type="text/javascript" src="./js/charts/comboBarLineChart.js"></script>
<script type="text/javascript" src="./js/charts/polarChart.js"></script>
<script type="text/javascript" src="./js/main.js"></script>






<!DOCTYPE html>
<html lang>

    <head>
        <title>WeKG-MF Visualisations</title>
        <meta charset="utf-8" />
    </head>

    <header>
        <div class="header">
            <h1>WeKG-MF Knowledge Graph Exploration and Navigation</h1>
        </div>    
    </header>


    <body>
        <div id="loc">
            <h2>Choose a localisation</h2>
            <p id="localisation-select">
                <select id="select-station" onchange="stationChanged()"></select>

                <button class="zoom" id="zoom-reunion" onclick="zoomToReunionMayotte()">Réunion/Mayotte</button>
                <button class="zoom" id="zoom-guyane" onclick="zoomToGuyane()">Guyane</button>
                <button class="zoom" id="zoom-guadeloupe" onclick="zoomToGuadeloupeMartinique()">Guadeloupe/Martinique</button>
                <button class="zoom" id="zoom-stPierre" onclick="zoomToStPierreEtMiquelon()">Saint-Pierre-Et-Miquelon</button>
                <button class="zoom" id="zoom-france" onclick="zoomToFrance()">Metropolis</button>

                <!--Load options -->
                <script>stationLoad();</script>
            </p>

            <div class="dataviz">
                <div class="dataviz-1">
                    <div id="map"></div>
                </div>
            </div>

            <p id="localisation-choose">Station selected : --Please choose an option--</p>
        </div>
        
        <div id="param">
            <h2 id="parameters-select">Agro-Meteorological Parameters</h2>

            <div id="column1">
                <p id="dailyTemp" style="font-size: 1.5em;">
                    <strong>Daily temperature</strong></br>
    
                    <input TYPE=CHECKBOX name="TMin" id="TMin" type="CHECKBOX" onclick="checkParameters(['TmpRain','TMin'])"> Daily minimum temperature (T<sub>min</sub>) 
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">The daily minimum temperature represents the lower temperature for each days</span>
                    </t></br>
    
                    <input TYPE=CHECKBOX name="TMax" id="TMax" type="CHECKBOX" onclick="checkParameters(['TmpRain','TMax'])"> Daily maximum temperature (T<sub>max</sub>)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">The daily maximum temperature represents the higher temperature for each days</span>
                    </t></br>
    
                    <input TYPE=CHECKBOX name="TMean" id="TMean" type="CHECKBOX" onclick="checkParameters(['TmpRain','TMean'])"> Daily mean temperature (T<sub>avg</sub>)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">The daily mean temperature represents the awerage temperature for each days</span>
                    </t></br>
                    
                    <input TYPE=CHECKBOX name="TDiff" id="TDiff" type="CHECKBOX" onclick="checkParameters(['TmpRain','TDiff'])"> Daily thermal amplitude (T<sub>Diff</sub>)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">The daily thermal amplitude represents the difference between the maximum and the minimum temperature for each days</span>
                    </t></br>
                   
                </p>
                <!--
                <p id="avgTempPeriod">
                    <strong>Average temperature in a period</strong></br>
    
                    <input TYPE=CHECKBOX name="meanTMin" id="meanTMin" type="CHECKBOX" onclick="checkParameters(['','meanTMin'])"> Average minimum temperature (meanTMin)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">The Average minimum temperature represents the awerage lower temperature for a period</span>
                    </t></br>
    
                    <input TYPE=CHECKBOX name="meanTMax" id="meanTMax" type="CHECKBOX" onclick="checkParameters(['','meanTMax'])"> Average maximum temperature (meanTMax)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">The Average maximum temperature represents the awerage higher temperature for a period</span>
                    </t></br>
    
                    <input TYPE=CHECKBOX name="meanTMean" id="meanTMean" type="CHECKBOX" onclick="checkParameters(['','meanTMean'])"> Average mean temperature (meanTMean)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">The Average mean temperature represents the awerage mean temperature for a period</span>
                    </t></br>
                </p>
                -->
            </div>

            <div id="column2">
                <p id="rain" style="font-size: 1.5em;">
                    <strong>Precipitation</strong></br>
    
                    <input TYPE=CHECKBOX name="rainDay" id="rainDay" type="CHECKBOX" onclick="checkParameters(['TmpRain','rainDay'])"> Daily precipitation (rainDay)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Cumulative daily precipitation R<sub>d</sub> recorded from 6:00 UTC day d till 6:00 UTC day d+1 </span>
                    </t></br>
    
                    <input TYPE=CHECKBOX name="nbRainDay" id="nbRainDay" type="CHECKBOX" onclick="checkParameters(['Numb','nbRainDay'])"> Number of rainy days (nbRainDay)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Number of rainy days represents the number of days during which R<sub>d</sub> > 1mm</span>
                    </t></br>

                    <input TYPE=CHECKBOX name="sumRain" id="sumRain" type="CHECKBOX" onclick="checkParameters(['GddRain','sumRain'])"> Total precipitation (sumRain)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Sum of daily cumulative precipitation recorded during a period </span>
                    </t></br>
                </p>
    
                
                <p id="wet" style="font-size: 1.5em;">
                    <strong>Humidity</strong></br>
    
                    <input TYPE=CHECKBOX name="nbWetDays" id="nbWetDays" type="CHECKBOX" onclick="checkParameters(['Numb','nbWetDays'])"> Number of wet days (nbWetDays)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Number of wet days represents the number of days during which the humidity is higher than 60% for a period</span>
                    </t></br>
    
                </p>

                <p id="wind" style="font-size: 1.5em;">
                    <strong>Wind</strong></br>
    
                    <input TYPE=CHECKBOX name="highWind" id="highWind" type="CHECKBOX" onclick="checkParameters(['Numb','highWind'])"> Number of high wind days (wind)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Number of high wind days represents the number of days during the wind is higher than 5.28 m/s for a period</span>
                    </t></br>
    
                </p>

            </div>

            <div id="column3">
                <p id="frost" style="font-size: 1.5em;">
                    <strong>Frost days and ice days</strong></br>
    
                    <input TYPE=CHECKBOX name="frostDays" id="frostDays" type="CHECKBOX" onclick="checkParameters(['Numb','frostDays'])"> Number of frost days (frostDays)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Number of frost days represents the number of days during which the minimum temperature is lower than 0°C for a period</span>
                    </t></br>
    
                    <input TYPE=CHECKBOX name="iceDays" id="iceDays" type="CHECKBOX" onclick="checkParameters(['Numb','iceDays'])"> Number of ice days (iceDays)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Number of ice days represents the number of days when the maximum temperature is lower than 0°C for a period</span>
                    </t></br>
                </p>

                <p id="summer" style="font-size: 1.5em;">
                    <strong>Summer days and heat days</strong></br>
    
                    <input TYPE=CHECKBOX name="summerDays" id="summerDays" type="CHECKBOX" onclick="checkParameters(['Numb','summerDays'])"> Number of summer days (summerDays)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Number of summer days represents the number of days during which the maximum temperature is higher than 25°C for a period</span>
                    </t></br>
    
                    <input TYPE=CHECKBOX name="heatDays" id="heatDays" type="CHECKBOX" onclick="checkParameters(['Numb','heatDays'])"> Number of heat days (heatDays)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Number of stress days represents the number of days during which the minimum temperature is higher than 20°C for a period</span>
                    </t></br>
    
                </p>
    
                <p id="heating"style="font-size: 1.5em;" >
                    <strong>Growing degree days</strong></br>
    
                    <input TYPE=CHECKBOX name="Gdd" id="Gdd" type="CHECKBOX" onclick="checkParameters(['GddRain','Gdd'])"> Growing degree days (GDD)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Growing degree days is equal to the average daily temperature minus base temperature </span>
                    </t></br>
    
                    <input TYPE=CHECKBOX name="sumGdd" id="sumGdd" type="CHECKBOX" onclick="checkParameters(['GddRain','sumGdd'])"> Accumulated growing degree days (sumGDD)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Accumulated growing degree days represents the sum of Growing degree days (GDD) over a period of time</span>
                    </t></br>

                    <input TYPE=CHECKBOX name="GSTmax" id="GSTmax" type="CHECKBOX" onclick="checkParameters(['GddRain','sumGdd'])"> Growing Season T<sub>max</sub> (GST<sub>max</sub>)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Average of the daily maximum temperature (Tmax) during the growing season</span>
                    </t></br>
                    <input TYPE=CHECKBOX name="GSTmin" id="GSTmin" type="CHECKBOX" onclick="checkParameters(['GddRain','sumGdd'])"> Growing Season T<sub>min</sub> (GST<sub>min</sub>)
                    <t class="tooltipParam">[?]
                        <span class="tooltiptextParam">Average of the daily minimum temperature (Tmin) during the growing season</span>
                    </t></br>
                </p>

            </div>

            <div id="column4">    
                
            </div>
            <p id="parameters-choose">Parameters selected :</p>
           

        </div>

        <div id="period">
            <h2 id="period-select">Select a period</h2>
            <div id="dateStart">

                <label id="date-start" style="font-size: 1.5em;">Start date:</label>

                </br>

                <input type="date" class="date" id="start" name="start"
                    value="2016-01-01"
                    min="2016-01-01" max="2021-12-31"
                    onchange="dateChanged()">
            </div>

            <div id="dateEnd">

                <label id="date-end" style="font-size: 1.5em;">End date:</label>

                </br>

                <input type="date" class="date" id="end" name="end"
                    value="2021-12-31"
                    min="2016-01-01" max="2021-12-31"
                    onchange="dateChanged()">
            </div>

            <p id="date-choose">Start: 2016-01-01</br>End: 2021-12-31</p>
        </div>
        <div id="export">
            <h2 id="period-select">Export</h2>
            <div class="groupExport">
                <button class="export" id="RDF" onclick="createFileRDF(textStation, startDate, endDate)">
                    <img class="export" src="./rdf_logo.png" alt="export">
                </button>

                <button class="export" id="JSON" onclick="createFileJSON(textStation, startDate, endDate)">
                    <img class="export" src="./json_logo.png" alt="export">
                </button>

                <button class="export" id="CSV" onclick="createFileCSV(textStation, startDate, endDate)">
                    <img class="export" src="./csv_logo.png" alt="export">
                </button>
            </div>
        </div>

        <div id="result">
            <h2 id="show-result">Visualisations</h2>
            <div id="graph" >
                <div class="chart-container-TmpRain" style="position: relative; left: 100px; height:0; ">
                    <canvas id="TmpRain" ></canvas>
                </div>
                <div class="chart-container-GddRain" style="position: relative; left: 100px; height:0vh; ">
                    <canvas id="GddRain" ></canvas>
                </div>
                <div class="chart-container-Numb" style="position: relative; left: 250px; height:0vh;">
                    <canvas id="Numb"></canvas>
                </div>
                
                <div id="my_dataviz"></div>  
            </div>
        </div>
    </body>


    <footer>
        <div class="footer">
            Last update: August 2022
        </div>    
    </footer>

</html>




<script type="text/javascript" src="./js/map.js"></script>